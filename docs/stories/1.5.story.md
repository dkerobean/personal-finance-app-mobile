# Status

Draft

---

# Story

**As a** user,
**I want** to see a simple dashboard with a summary of my finances,
**so that** I can understand my current situation at a glance.

---

# Acceptance Criteria

1. The dashboard is the first screen visible after a user logs in.
2. The dashboard displays a "Total Balance" card, calculated from all manual income and expense transactions.
3. The dashboard displays a list of the five most recent transactions.
4. The dashboard data updates automatically and correctly after a transaction is added, edited, or deleted.

Source: `docs/prd/epic-1-foundation-manual-finance-tracking-v2.md#story-15-basic-dashboard-display`

---

# Tasks / Subtasks

- [ ] Route and Layout (AC: 1)
  - [ ] Set `app/(app)/index.tsx` as dashboard; ensure auth guard routes here post-login [Source: `docs/architecture.md#Routing Architecture`]

- [ ] Total Balance Card (AC: 2)
  - [ ] Compute total balance = sum(income amounts) − sum(expense amounts) from transactions store [Source: `docs/architecture.md#Frontend Architecture`]
  - [ ] Create `components/dashboard/TotalBalanceCard.tsx` using Gluestack UI

- [ ] Recent Transactions (AC: 3)
  - [ ] Query latest 5 transactions (by date desc) and render list `components/dashboard/RecentTransactions.tsx`
  - [ ] Tap navigates to transaction detail

- [ ] Data Reactivity (AC: 4)
  - [ ] Subscribe to transactionStore changes; recompute total and list when store updates [Source: `docs/architecture.md#State Management Architecture`]
  - [ ] After create/edit/delete (Story 1.4), ensure store refresh triggers UI update

- [ ] Services and State
  - [ ] Provide `transactionStore` selectors for totals and latest 5 [Source: `docs/architecture.md#State Management Architecture`]
  - [ ] Ensure services layer fetch supports limit/sort [Source: `docs/architecture.md#Frontend Services Layer`]

- [ ] Testing
  - [ ] Unit tests: total balance computation for mixed income/expense [Source: `docs/architecture.md#Frontend Testing`]
  - [ ] Component tests: renders 5 latest, updates on store changes [Source: `docs/architecture.md#Testing Strategy`]

---

# Dev Notes

## Data Models
- Transaction fields required: `amount`, `type`, `transaction_date` [Source: `docs/architecture.md#Data Models` → Transactions]

## API Specifications
- For recent list, backend list endpoint should support sorting/limiting; otherwise filter on client after fetch [Source: `docs/architecture.md#API Specification` → `/transactions`]

## Component Specifications
- Dashboard composed of Total Balance card and Recent Transactions list; navigates to details [Source: `docs/architecture.md#Frontend Architecture`]

## File Locations
- Screen: `app/(app)/index.tsx`
- Components: `src/components/dashboard/TotalBalanceCard.tsx`, `src/components/dashboard/RecentTransactions.tsx`
- Store/Services: reuse from Story 1.4 [Source: `docs/architecture.md#State Management Architecture`, `#Frontend Services Layer`]

## Testing Requirements
- Co-located tests; validate recalculation on store updates; stable rendering of latest 5 [Source: `docs/architecture.md#Frontend Testing`, `#Testing Strategy`]

## Technical Constraints
- TypeScript, React Native (Expo), Gluestack UI; responsive and smooth UX [Source: `docs/architecture.md#Tech Stack`, `#Performance Optimization`]

---

# Change Log

| Date       | Version | Description                               | Author |
| ---------- | ------- | ----------------------------------------- | ------ |
| 2025-08-12 | 1.0     | Initial story draft created (SM)          | Bob    |

---

## Dev Agent Record

### Agent Model Used
{{agent_model_name_version}}

### Debug Log References

### Completion Notes List

### File List

---

## QA Results

Pending QA review.



